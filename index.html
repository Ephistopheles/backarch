<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BackArch</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="export-wrapper">
      <!-- Top Bar -->
      <header class="app-header" role="banner">
        <div class="logo-area">
          <button 
            class="menu-toggle hide-desktop" 
            onclick="toggleSidebar()"
            aria-label="Abrir menú de navegación"
            aria-expanded="false"
            aria-controls="sidebar-nav"
          >
            <iconify-icon icon="lucide:menu" class="icon-lg" aria-hidden="true"></iconify-icon>
          </button>
          <figure class="logo-icon flex-center" aria-hidden="true">
            <iconify-icon icon="lucide:box" class="icon-lg"></iconify-icon>
          </figure>
          <strong>BackArch</strong>
        </div>

        <nav class="version-control hide-mobile" aria-label="Control de versiones">
          <iconify-icon icon="lucide:layers" class="icon-muted" aria-hidden="true"></iconify-icon>
          <span>Production Stack (v2.1.0)</span>
          <iconify-icon
            icon="lucide:chevron-down"
            class="icon-muted"
            aria-hidden="true"
          ></iconify-icon>
        </nav>

        <nav class="header-actions" aria-label="Acciones principales">
          <button class="btn-primary" type="button" aria-label="Generar código">
            <iconify-icon icon="lucide:zap" class="icon-md" aria-hidden="true"></iconify-icon>
            <span>Generate</span>
          </button>
        </nav>
      </header>

      <div class="sidebar-overlay" onclick="toggleSidebar()" aria-hidden="true"></div>

      <div class="main-workspace">
        <!-- Left Sidebar -->
        <aside class="sidebar-left" id="sidebar-nav" role="complementary" aria-label="Panel de componentes">
          <h2 class="sidebar-header">Components</h2>
          <nav class="component-list" aria-label="Lista de componentes disponibles">
            <ul role="list">
              <li class="component-item" draggable="true" role="listitem">
                <figure class="component-icon endpoint flex-center" aria-hidden="true">
                  <iconify-icon
                    icon="lucide:globe"
                    class="icon-md"
                  ></iconify-icon>
                </figure>
                <span>Endpoint</span>
              </li>
              <li class="component-item" draggable="true" role="listitem">
                <figure class="component-icon model flex-center" aria-hidden="true">
                  <iconify-icon icon="lucide:box" class="icon-md"></iconify-icon>
                </figure>
                <span>Model</span>
              </li>
              <li class="component-item" draggable="true" role="listitem">
                <figure class="component-icon service flex-center" aria-hidden="true">
                  <iconify-icon icon="lucide:cpu" class="icon-md"></iconify-icon>
                </figure>
                <span>Service</span>
              </li>
              <li class="component-item" draggable="true" role="listitem">
                <figure class="component-icon repository flex-center" aria-hidden="true">
                  <iconify-icon
                    icon="lucide:archive"
                    class="icon-md"
                  ></iconify-icon>
                </figure>
                <span>Repository</span>
              </li>
              <li class="component-item" draggable="true" role="listitem">
                <figure class="component-icon database flex-center" aria-hidden="true">
                  <iconify-icon
                    icon="lucide:database"
                    class="icon-md"
                  ></iconify-icon>
                </figure>
                <span>Database</span>
              </li>
            </ul>
          </nav>
        </aside>

        <main class="canvas-area" role="main" aria-label="Área de diseño del canvas">
          <section class="canvas-nodes" aria-label="Nodos del diagrama">
            <article class="canvas-node" style="top: 80px; left: 120px" aria-label="Nodo Endpoint GET /users">
              <header class="node-header">
                <figure class="node-icon endpoint flex-center" aria-hidden="true">
                  <iconify-icon
                    icon="lucide:globe"
                    class="icon-sm"
                  ></iconify-icon>
                </figure>
                <h3>GET /users</h3>
              </header>
              <div class="node-content">
                <p>Returns list of active users.</p>
                <aside class="node-meta">
                  <small>Auth: Bearer Token</small>
                </aside>
              </div>
            </article>

            <article class="canvas-node" style="top: 80px; left: 400px" aria-label="Nodo Service UserService">
              <header class="node-header">
                <figure class="node-icon service flex-center" aria-hidden="true">
                  <iconify-icon icon="lucide:cpu" class="icon-sm"></iconify-icon>
                </figure>
                <h3>UserService</h3>
              </header>
              <div class="node-content">
                <p>Handles business logic for user management.</p>
              </div>
            </article>
          </section>

          <svg class="canvas-svg" role="img" aria-label="Conexiones entre nodos">
            <title>Diagrama de conexiones</title>
            <desc>Línea de conexión entre el endpoint GET /users y el servicio UserService</desc>
            <path
              d="M 322 130 L 400 130"
              stroke="#cbd5e1"
              stroke-width="2"
              fill="none"
              stroke-dasharray="4 4"
              marker-end="url(#arrow)"
            ></path>
            <defs>
              <marker
                id="arrow"
                markerWidth="10"
                markerHeight="10"
                refX="9"
                refY="3"
                orient="auto"
                markerUnits="strokeWidth"
              >
                <path d="M0,0 L0,6 L9,3 z" fill="#cbd5e1"></path>
              </marker>
            </defs>
          </svg>

          <footer class="bottom-panel" role="status" aria-live="polite">
            <header class="panel-header">
              <iconify-icon
                icon="lucide:alert-circle"
                class="icon-lg icon-muted"
                aria-hidden="true"
              ></iconify-icon>
              <h2>Validation &amp; Feedback</h2>
              <mark class="panel-badge">3 Issues Found</mark>
            </header>
            <section class="panel-content" aria-label="Lista de mensajes de validación">
              <ul role="log">
                <li class="log-item warning" role="alert">
                  <iconify-icon
                    icon="lucide:alert-triangle"
                    class="icon-lg icon-warning"
                    aria-hidden="true"
                  ></iconify-icon>
                  <p>
                    UserService is missing a repository connection.
                  </p>
                  <mark class="log-tag tag-warn">Warning</mark>
                </li>
                <li class="log-item">
                  <iconify-icon
                    icon="lucide:info"
                    class="icon-lg icon-info"
                    aria-hidden="true"
                  ></iconify-icon>
                  <p>
                    Consider adding caching to GET /users for better performance.
                  </p>
                  <mark class="log-tag tag-info">Suggestion</mark>
                </li>
                <li class="log-item">
                  <iconify-icon
                    icon="lucide:info"
                    class="icon-lg icon-info"
                    aria-hidden="true"
                  ></iconify-icon>
                  <p>
                    Database schema validated successfully.
                  </p>
                  <mark class="log-tag tag-info">Info</mark>
                </li>
              </ul>
            </section>
          </footer>
        </main>
      </div>
    </div>
    <script src="https://code.iconify.design/iconify-icon/3.0.0/iconify-icon.min.js"></script>
    <script>
      function toggleSidebar() {
        const sidebar = document.querySelector('.sidebar-left');
        const overlay = document.querySelector('.sidebar-overlay');
        const toggleBtn = document.querySelector('.menu-toggle');
        const isOpen = sidebar.classList.toggle('open');
        overlay.classList.toggle('active');
        toggleBtn.setAttribute('aria-expanded', isOpen);
      }
    </script>
  </body>
</html>
